# 角色：高级前端架构师 & 业务开发专家

# 背景
我们有一个名为 `casbin-rbac` 的 .NET 8 Web API 模块，它提供了一套完整的权限管理能力（基于 Casbin 和 RBAC 模型）。
现在的目标不是写一个简单的接口测试工具，而是**开发套真正可用的后台管理系统页面**。
我将通过这些实际的业务页面来手动操作（如创建用户、分配角色、调整菜单结构），以此来验收后端接口的正确性和健壮性。

# 任务
请根据提供的 API 定义文件 (`swagger.json`)，开发 `casbin-rbac` 模块对应的标准后台管理页面。
你需要理解 Swagger 中各个接口的业务含义，将其转化为标准的 CRUD 表格、树形结构和弹窗表单。

# 输入资源
1. **Swagger 数据**: `swagger.json` (包含完整的后端 Schema 和 API 路径)。
2. **核心业务对象**:
   - **用户 (User)**: `/api/app/user`
   - **角色 (Role)**: `/api/app/role`
   - **菜单 (Menu)**: `/api/app/menu`
   - **部门 (Dept/Department)**: `/api/app/dept`
   - **岗位 (Post)**: `/api/app/post`

# 开发需求详情

## 1. 页面规划与路由
请生成以下标准管理页面：
- `/system/user`: **用户管理**
- `/system/role`: **角色管理**
- `/system/menu`: **菜单管理** (需要支持树形显示)
- `/system/dept`: **部门管理** (需要支持树形显示)
- `/system/post`: **岗位管理**

## 2. 功能设计要求
对于每个模块，请实现标准的后台管理功能：
- **列表页 (List)**:
  - 包含搜索栏（根据 Swagger 参数，如 `userName`, `postName` 等）。
  - 包含分页表格（自动处理 `skipCount`, `maxResultCount`）。
  - **部门**和**菜单**应使用**树形表格 (Tree Table)** 展示，而非普通分页。
- **新建/编辑 (Create/Update)**:
  - 点击“新建”或“编辑”弹出模态框 (Modal)。
  - **表单生成**：根据 `swagger.json` 中的 `parameters` 或 `schema` 自动推断表单项。
    - 必填校验：必须与后端验证一致（Swagger 中的 `required` 字段）。
    - 类型适配：`integer` 转数字输入，`boolean` 转开关，枚举转下拉。
- **删除 (Delete)**:
  - 包含二次确认弹窗。

## 3. 复杂业务逻辑支持 (关键)
请不仅仅是简单的 CRUD，通过 Swagger 接口推断并实现以下关联业务：
- **用户-角色分配**: 在用户管理中，提供“分配角色”功能（调用相关关联接口）。
- **角色-权限分配**: 在角色管理中，提供“分配菜单/权限”功能（通常是一个含有 Checkbox 的树形组件）。
- **数据回显**: 编辑时，必须先调用 Get 单个详情接口回显数据，包括已选中的关联数据。

## 4. 异常处理与反馈
如果在操作过程中（如提交表单）后端返回 400 错误：
- **解析错误**: 捕获 ABP 格式的错误 JSON (`validationErrors`)。
- **直观反馈**: 将具体的字段错误（如 "用户名不能为空"）直接显示在表单对应的输入框下方，变红提示，模拟真实产品的交互体验。

## 5. 技术实现规范
- 使用现有的前端框架（React/Vue + 组件库 AntDesign/ElementPlus）。
- 保持代码的模块化，API 调用层应单独封装（参考 `swagger` 路径生成 service 文件）。
- 确保所有列表页默认带上合适的分页参数（`skipCount: 0, maxResultCount: 10`），避免后端报错。

# 交付物
- 完整的页面代码文件 (`.jsx/.vue`)。
- 对接后端的 API Service 层代码。
- 确保页面可以直接运行并与本地后端交互。
